{"ast":null,"code":"import _objectSpread from\"/Users/sanyasharma/Documents/grabble/react-ui/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import'./App.css';import'./styles.scss';import{GameStateManager}from'./game-engine';import SetupModal from'./components/SetupModal';import Navbar from'./components/Navbar';import ScoreArea from'./components/ScoreArea';import Board from'./components/Board';import Rack from'./components/Rack';import ActionButtons from'./components/ActionButtons';import WordsPanel from'./components/WordsPanel';// Dictionary - loaded from file\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";let dictionary=new Set();async function loadDictionary(){try{const response=await fetch('/dictionary.txt');if(!response.ok){console.warn('Dictionary file not found, using fallback');dictionary=new Set(['CAT','DOG','BAT','RAT','MAT','SAT','HAT','PAT','CAR','BAR','FAR','TAR','WAR','JAR','BED','RED','FED','LED','TED','BIG','DIG','FIG','JIG','PIG','WIG']);return;}const text=await response.text();const words=text.split('\\n').map(line=>line.trim().toUpperCase()).filter(word=>word.length>=3&&/^[A-Z]+$/.test(word));dictionary=new Set(words);console.log(\"Loaded \".concat(dictionary.size,\" words from dictionary\"));}catch(error){console.error('Error loading dictionary:',error);dictionary=new Set(['CAT','DOG','BAT','RAT','MAT','SAT','HAT','PAT','CAR','BAR','FAR','TAR','WAR','JAR','BED','RED','FED','LED','TED','BIG','DIG','FIG','JIG','PIG','WIG']);}}function App(){const[gameManager,setGameManager]=useState(null);const[engine,setEngine]=useState(null);const[selectedTiles,setSelectedTiles]=useState([]);const[selectedWordPositions,setSelectedWordPositions]=useState([]);const[pendingPlacements,setPendingPlacements]=useState([]);const[isPlacingTiles,setIsPlacingTiles]=useState(false);const[showSetup,setShowSetup]=useState(true);const[dictionaryLoaded,setDictionaryLoaded]=useState(false);useEffect(()=>{loadDictionary().then(()=>setDictionaryLoaded(true));},[]);const handleStartGame=(numPlayers,playerNames,targetScore)=>{const manager=GameStateManager.createNewGame(numPlayers,playerNames,targetScore);const gameEngine=manager.getEngine();setGameManager(manager);setEngine(gameEngine);setShowSetup(false);};const handleTileSelect=index=>{if(isPlacingTiles)return;setSelectedTiles(prev=>prev.includes(index)?prev.filter(i=>i!==index):[...prev,index]);};const handleColumnClick=column=>{if(!gameManager||!engine||selectedTiles.length===0)return;const currentPlayer=gameManager.getCurrentPlayer();const tile=currentPlayer.rack[selectedTiles[0]];setPendingPlacements(prev=>[...prev,{column,tile}]);setSelectedTiles(prev=>prev.slice(1));setIsPlacingTiles(true);};const handleCellClick=(x,y)=>{if(isPlacingTiles||!gameManager)return;const pos={x,y};setSelectedWordPositions(prev=>{const idx=prev.findIndex(p=>p.x===x&&p.y===y);if(idx===-1){return[...prev,pos];}else{return prev.filter((_,i)=>i!==idx);}});};const handleSubmitMove=async()=>{if(!gameManager||!engine)return;const currentPlayer=gameManager.getCurrentPlayer();if(pendingPlacements.length>0){try{// Remove tiles from rack\nconst tilesToPlace=pendingPlacements.map(p=>p.tile);const newRack=currentPlayer.rack.filter((tile,idx)=>{const placementIdx=tilesToPlace.findIndex(p=>p.letter===tile.letter&&p.points===tile.points);return placementIdx===-1;});currentPlayer.rack=newRack;engine.placeTiles(pendingPlacements,currentPlayer.id);setIsPlacingTiles(false);// Get newly placed positions (after gravity)\nconst state=engine.getState();const newlyPlacedTiles=[];for(const placement of pendingPlacements){for(let y=6;y>=0;y--){const tile=state.board[y][placement.column];if(tile&&tile.playerId===currentPlayer.id){newlyPlacedTiles.push({x:placement.column,y});break;}}}// Process word claims\nif(selectedWordPositions.length>0){const claims=[{positions:selectedWordPositions,playerId:currentPlayer.id}];const result=await engine.processWordClaims(claims,newlyPlacedTiles,dictionary);if(!result.valid){alert('Invalid word claims: '+result.results.map(r=>r.error).join(', '));return;}setSelectedWordPositions([]);}// Refill rack and advance turn\nengine.refillPlayerRack(currentPlayer.id);engine.advanceTurn();// Check win condition\nconst winnerId=engine.checkWinCondition();if(winnerId!==null){const winner=gameManager.getPlayer(winnerId);alert(\"Game Over! \".concat(winner===null||winner===void 0?void 0:winner.name,\" wins with \").concat(winner===null||winner===void 0?void 0:winner.score,\" points!\"));}setPendingPlacements([]);setSelectedTiles([]);// Force re-render\nsetGameManager(_objectSpread({},gameManager));setEngine(_objectSpread({},engine));}catch(error){alert('Error: '+error.message);}}};const handleSwapTiles=()=>{if(!gameManager||!engine||selectedTiles.length===0)return;const currentPlayer=gameManager.getCurrentPlayer();engine.swapTiles(currentPlayer.id,selectedTiles);setSelectedTiles([]);engine.advanceTurn();// Force re-render\nsetGameManager(_objectSpread({},gameManager));setEngine(_objectSpread({},engine));};if(!dictionaryLoaded){return/*#__PURE__*/_jsx(\"div\",{className:\"loading\",children:\"Loading dictionary...\"});}if(showSetup){return/*#__PURE__*/_jsx(SetupModal,{onStartGame:handleStartGame});}if(!gameManager||!engine){return null;}const state=gameManager.getState();const currentPlayer=gameManager.getCurrentPlayer();return/*#__PURE__*/_jsxs(\"div\",{className:\"game-container\",children:[/*#__PURE__*/_jsx(Navbar,{currentPlayerName:currentPlayer.name}),/*#__PURE__*/_jsx(ScoreArea,{players:state.players,currentPlayerId:state.currentPlayerId}),/*#__PURE__*/_jsx(Board,{board:state.board,selectedPositions:selectedWordPositions,isPlacingTiles:isPlacingTiles,onCellClick:handleCellClick,onColumnClick:handleColumnClick}),/*#__PURE__*/_jsx(Rack,{tiles:currentPlayer.rack,selectedIndices:selectedTiles,onTileClick:handleTileSelect}),/*#__PURE__*/_jsx(ActionButtons,{canSubmit:pendingPlacements.length>0||selectedWordPositions.length>0,onSubmit:handleSubmitMove,onSwap:handleSwapTiles,canSwap:selectedTiles.length>0}),/*#__PURE__*/_jsx(WordsPanel,{claimedWords:state.claimedWords})]});}export default App;","map":{"version":3,"names":["React","useState","useEffect","GameStateManager","SetupModal","Navbar","ScoreArea","Board","Rack","ActionButtons","WordsPanel","jsx","_jsx","jsxs","_jsxs","dictionary","Set","loadDictionary","response","fetch","ok","console","warn","text","words","split","map","line","trim","toUpperCase","filter","word","length","test","log","concat","size","error","App","gameManager","setGameManager","engine","setEngine","selectedTiles","setSelectedTiles","selectedWordPositions","setSelectedWordPositions","pendingPlacements","setPendingPlacements","isPlacingTiles","setIsPlacingTiles","showSetup","setShowSetup","dictionaryLoaded","setDictionaryLoaded","then","handleStartGame","numPlayers","playerNames","targetScore","manager","createNewGame","gameEngine","getEngine","handleTileSelect","index","prev","includes","i","handleColumnClick","column","currentPlayer","getCurrentPlayer","tile","rack","slice","handleCellClick","x","y","pos","idx","findIndex","p","_","handleSubmitMove","tilesToPlace","newRack","placementIdx","letter","points","placeTiles","id","state","getState","newlyPlacedTiles","placement","board","playerId","push","claims","positions","result","processWordClaims","valid","alert","results","r","join","refillPlayerRack","advanceTurn","winnerId","checkWinCondition","winner","getPlayer","name","score","_objectSpread","message","handleSwapTiles","swapTiles","className","children","onStartGame","currentPlayerName","players","currentPlayerId","selectedPositions","onCellClick","onColumnClick","tiles","selectedIndices","onTileClick","canSubmit","onSubmit","onSwap","canSwap","claimedWords"],"sources":["/Users/sanyasharma/Documents/grabble/react-ui/src/App.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport './App.css';\nimport './styles.scss';\nimport { GameStateManager, GrabbleEngine } from './game-engine';\nimport type { Tile, Position, WordClaim, Player, ClaimedWord } from './game-engine';\nimport SetupModal from './components/SetupModal';\nimport Navbar from './components/Navbar';\nimport ScoreArea from './components/ScoreArea';\nimport Board from './components/Board';\nimport Rack from './components/Rack';\nimport ActionButtons from './components/ActionButtons';\nimport WordsPanel from './components/WordsPanel';\n\n// Dictionary - loaded from file\nlet dictionary = new Set<string>();\n\nasync function loadDictionary() {\n  try {\n    const response = await fetch('/dictionary.txt');\n    if (!response.ok) {\n      console.warn('Dictionary file not found, using fallback');\n      dictionary = new Set(['CAT', 'DOG', 'BAT', 'RAT', 'MAT', 'SAT', 'HAT', 'PAT',\n        'CAR', 'BAR', 'FAR', 'TAR', 'WAR', 'JAR',\n        'BED', 'RED', 'FED', 'LED', 'TED',\n        'BIG', 'DIG', 'FIG', 'JIG', 'PIG', 'WIG']);\n      return;\n    }\n    const text = await response.text();\n    const words = text.split('\\n')\n      .map(line => line.trim().toUpperCase())\n      .filter(word => word.length >= 3 && /^[A-Z]+$/.test(word));\n    dictionary = new Set(words);\n    console.log(`Loaded ${dictionary.size} words from dictionary`);\n  } catch (error) {\n    console.error('Error loading dictionary:', error);\n    dictionary = new Set(['CAT', 'DOG', 'BAT', 'RAT', 'MAT', 'SAT', 'HAT', 'PAT',\n      'CAR', 'BAR', 'FAR', 'TAR', 'WAR', 'JAR',\n      'BED', 'RED', 'FED', 'LED', 'TED',\n      'BIG', 'DIG', 'FIG', 'JIG', 'PIG', 'WIG']);\n  }\n}\n\nfunction App() {\n  const [gameManager, setGameManager] = useState<GameStateManager | null>(null);\n  const [engine, setEngine] = useState<GrabbleEngine | null>(null);\n  const [selectedTiles, setSelectedTiles] = useState<number[]>([]);\n  const [selectedWordPositions, setSelectedWordPositions] = useState<Position[]>([]);\n  const [pendingPlacements, setPendingPlacements] = useState<Array<{ column: number; tile: Tile }>>([]);\n  const [isPlacingTiles, setIsPlacingTiles] = useState(false);\n  const [showSetup, setShowSetup] = useState(true);\n  const [dictionaryLoaded, setDictionaryLoaded] = useState(false);\n\n  useEffect(() => {\n    loadDictionary().then(() => setDictionaryLoaded(true));\n  }, []);\n\n  const handleStartGame = (numPlayers: number, playerNames: string[], targetScore: number) => {\n    const manager = GameStateManager.createNewGame(numPlayers, playerNames, targetScore);\n    const gameEngine = manager.getEngine();\n    setGameManager(manager);\n    setEngine(gameEngine);\n    setShowSetup(false);\n  };\n\n  const handleTileSelect = (index: number) => {\n    if (isPlacingTiles) return;\n    setSelectedTiles(prev => \n      prev.includes(index) \n        ? prev.filter(i => i !== index)\n        : [...prev, index]\n    );\n  };\n\n  const handleColumnClick = (column: number) => {\n    if (!gameManager || !engine || selectedTiles.length === 0) return;\n    \n    const currentPlayer = gameManager.getCurrentPlayer();\n    const tile = currentPlayer.rack[selectedTiles[0]];\n    \n    setPendingPlacements(prev => [...prev, { column, tile }]);\n    setSelectedTiles(prev => prev.slice(1));\n    setIsPlacingTiles(true);\n  };\n\n  const handleCellClick = (x: number, y: number) => {\n    if (isPlacingTiles || !gameManager) return;\n    \n    const pos: Position = { x, y };\n    setSelectedWordPositions(prev => {\n      const idx = prev.findIndex(p => p.x === x && p.y === y);\n      if (idx === -1) {\n        return [...prev, pos];\n      } else {\n        return prev.filter((_, i) => i !== idx);\n      }\n    });\n  };\n\n  const handleSubmitMove = async () => {\n    if (!gameManager || !engine) return;\n    \n    const currentPlayer = gameManager.getCurrentPlayer();\n    \n    if (pendingPlacements.length > 0) {\n      try {\n        // Remove tiles from rack\n        const tilesToPlace = pendingPlacements.map(p => p.tile);\n        const newRack = currentPlayer.rack.filter((tile, idx) => {\n          const placementIdx = tilesToPlace.findIndex(p => \n            p.letter === tile.letter && p.points === tile.points\n          );\n          return placementIdx === -1;\n        });\n        currentPlayer.rack = newRack;\n        \n        engine.placeTiles(pendingPlacements, currentPlayer.id);\n        setIsPlacingTiles(false);\n        \n        // Get newly placed positions (after gravity)\n        const state = engine.getState();\n        const newlyPlacedTiles: Position[] = [];\n        for (const placement of pendingPlacements) {\n          for (let y = 6; y >= 0; y--) {\n            const tile = state.board[y][placement.column];\n            if (tile && tile.playerId === currentPlayer.id) {\n              newlyPlacedTiles.push({ x: placement.column, y });\n              break;\n            }\n          }\n        }\n        \n        // Process word claims\n        if (selectedWordPositions.length > 0) {\n          const claims: WordClaim[] = [{\n            positions: selectedWordPositions,\n            playerId: currentPlayer.id\n          }];\n          \n          const result = await engine.processWordClaims(claims, newlyPlacedTiles, dictionary);\n          \n          if (!result.valid) {\n            alert('Invalid word claims: ' + result.results.map(r => r.error).join(', '));\n            return;\n          }\n          \n          setSelectedWordPositions([]);\n        }\n        \n        // Refill rack and advance turn\n        engine.refillPlayerRack(currentPlayer.id);\n        engine.advanceTurn();\n        \n        // Check win condition\n        const winnerId = engine.checkWinCondition();\n        if (winnerId !== null) {\n          const winner = gameManager.getPlayer(winnerId);\n          alert(`Game Over! ${winner?.name} wins with ${winner?.score} points!`);\n        }\n        \n        setPendingPlacements([]);\n        setSelectedTiles([]);\n        \n        // Force re-render\n        setGameManager({ ...gameManager });\n        setEngine({ ...engine } as GrabbleEngine);\n        \n      } catch (error) {\n        alert('Error: ' + (error as Error).message);\n      }\n    }\n  };\n\n  const handleSwapTiles = () => {\n    if (!gameManager || !engine || selectedTiles.length === 0) return;\n    \n    const currentPlayer = gameManager.getCurrentPlayer();\n    engine.swapTiles(currentPlayer.id, selectedTiles);\n    setSelectedTiles([]);\n    engine.advanceTurn();\n    \n    // Force re-render\n    setGameManager({ ...gameManager });\n    setEngine({ ...engine } as GrabbleEngine);\n  };\n\n  if (!dictionaryLoaded) {\n    return <div className=\"loading\">Loading dictionary...</div>;\n  }\n\n  if (showSetup) {\n    return <SetupModal onStartGame={handleStartGame} />;\n  }\n\n  if (!gameManager || !engine) {\n    return null;\n  }\n\n  const state = gameManager.getState();\n  const currentPlayer = gameManager.getCurrentPlayer();\n\n  return (\n    <div className=\"game-container\">\n      <Navbar currentPlayerName={currentPlayer.name} />\n      <ScoreArea players={state.players} currentPlayerId={state.currentPlayerId} />\n      <Board \n        board={state.board}\n        selectedPositions={selectedWordPositions}\n        isPlacingTiles={isPlacingTiles}\n        onCellClick={handleCellClick}\n        onColumnClick={handleColumnClick}\n      />\n      <Rack \n        tiles={currentPlayer.rack}\n        selectedIndices={selectedTiles}\n        onTileClick={handleTileSelect}\n      />\n      <ActionButtons\n        canSubmit={pendingPlacements.length > 0 || selectedWordPositions.length > 0}\n        onSubmit={handleSubmitMove}\n        onSwap={handleSwapTiles}\n        canSwap={selectedTiles.length > 0}\n      />\n      <WordsPanel claimedWords={state.claimedWords} />\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}