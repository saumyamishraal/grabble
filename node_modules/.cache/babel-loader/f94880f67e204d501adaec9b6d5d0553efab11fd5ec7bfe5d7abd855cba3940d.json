{"ast":null,"code":"var _jsxFileName = \"/Users/sanyasharma/Documents/grabble/react-ui/src/App.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport './App.css';\nimport './styles.scss';\nimport { GameStateManager } from './game-engine';\nimport SetupModal from './components/SetupModal';\nimport Navbar from './components/Navbar';\nimport ScoreArea from './components/ScoreArea';\nimport Board from './components/Board';\nimport Rack from './components/Rack';\nimport ActionButtons from './components/ActionButtons';\nimport WordsPanel from './components/WordsPanel';\n\n// Dictionary - loaded from file\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nlet dictionary = new Set();\nasync function loadDictionary() {\n  try {\n    const response = await fetch('/dictionary.txt');\n    if (!response.ok) {\n      console.warn('Dictionary file not found, using fallback');\n      dictionary = new Set(['CAT', 'DOG', 'BAT', 'RAT', 'MAT', 'SAT', 'HAT', 'PAT', 'CAR', 'BAR', 'FAR', 'TAR', 'WAR', 'JAR', 'BED', 'RED', 'FED', 'LED', 'TED', 'BIG', 'DIG', 'FIG', 'JIG', 'PIG', 'WIG']);\n      return;\n    }\n    const text = await response.text();\n    const words = text.split('\\n').map(line => line.trim().toUpperCase()).filter(word => word.length >= 3 && /^[A-Z]+$/.test(word));\n    dictionary = new Set(words);\n    console.log(`Loaded ${dictionary.size} words from dictionary`);\n  } catch (error) {\n    console.error('Error loading dictionary:', error);\n    dictionary = new Set(['CAT', 'DOG', 'BAT', 'RAT', 'MAT', 'SAT', 'HAT', 'PAT', 'CAR', 'BAR', 'FAR', 'TAR', 'WAR', 'JAR', 'BED', 'RED', 'FED', 'LED', 'TED', 'BIG', 'DIG', 'FIG', 'JIG', 'PIG', 'WIG']);\n  }\n}\nfunction App() {\n  _s();\n  const [gameManager, setGameManager] = useState(null);\n  const [engine, setEngine] = useState(null);\n  const [selectedTiles, setSelectedTiles] = useState([]);\n  const [selectedWordPositions, setSelectedWordPositions] = useState([]);\n  const [pendingPlacements, setPendingPlacements] = useState([]);\n  const [isPlacingTiles, setIsPlacingTiles] = useState(false);\n  const [showSetup, setShowSetup] = useState(true);\n  const [dictionaryLoaded, setDictionaryLoaded] = useState(false);\n  useEffect(() => {\n    loadDictionary().then(() => setDictionaryLoaded(true));\n  }, []);\n  const handleStartGame = (numPlayers, playerNames, targetScore) => {\n    const manager = GameStateManager.createNewGame(numPlayers, playerNames, targetScore);\n    const gameEngine = manager.getEngine();\n    setGameManager(manager);\n    setEngine(gameEngine);\n    setShowSetup(false);\n  };\n  const handleTileSelect = index => {\n    if (isPlacingTiles) return;\n    setSelectedTiles(prev => prev.includes(index) ? prev.filter(i => i !== index) : [...prev, index]);\n  };\n  const handleColumnClick = column => {\n    if (!gameManager || !engine || selectedTiles.length === 0) return;\n    const currentPlayer = gameManager.getCurrentPlayer();\n    const tile = currentPlayer.rack[selectedTiles[0]];\n    setPendingPlacements(prev => [...prev, {\n      column,\n      tile\n    }]);\n    setSelectedTiles(prev => prev.slice(1));\n    setIsPlacingTiles(true);\n  };\n  const handleCellClick = (x, y) => {\n    if (isPlacingTiles || !gameManager) return;\n    const pos = {\n      x,\n      y\n    };\n    setSelectedWordPositions(prev => {\n      const idx = prev.findIndex(p => p.x === x && p.y === y);\n      if (idx === -1) {\n        return [...prev, pos];\n      } else {\n        return prev.filter((_, i) => i !== idx);\n      }\n    });\n  };\n  const handleSubmitMove = async () => {\n    if (!gameManager || !engine) return;\n    const currentPlayer = gameManager.getCurrentPlayer();\n    if (pendingPlacements.length > 0) {\n      try {\n        // Remove tiles from rack\n        const tilesToPlace = pendingPlacements.map(p => p.tile);\n        const newRack = currentPlayer.rack.filter((tile, idx) => {\n          const placementIdx = tilesToPlace.findIndex(p => p.letter === tile.letter && p.points === tile.points);\n          return placementIdx === -1;\n        });\n        currentPlayer.rack = newRack;\n        engine.placeTiles(pendingPlacements, currentPlayer.id);\n        setIsPlacingTiles(false);\n\n        // Get newly placed positions (after gravity)\n        const state = engine.getState();\n        const newlyPlacedTiles = [];\n        for (const placement of pendingPlacements) {\n          for (let y = 6; y >= 0; y--) {\n            const tile = state.board[y][placement.column];\n            if (tile && tile.playerId === currentPlayer.id) {\n              newlyPlacedTiles.push({\n                x: placement.column,\n                y\n              });\n              break;\n            }\n          }\n        }\n\n        // Process word claims\n        if (selectedWordPositions.length > 0) {\n          const claims = [{\n            positions: selectedWordPositions,\n            playerId: currentPlayer.id\n          }];\n          const result = await engine.processWordClaims(claims, newlyPlacedTiles, dictionary);\n          if (!result.valid) {\n            alert('Invalid word claims: ' + result.results.map(r => r.error).join(', '));\n            return;\n          }\n          setSelectedWordPositions([]);\n        }\n\n        // Refill rack and advance turn\n        engine.refillPlayerRack(currentPlayer.id);\n        engine.advanceTurn();\n\n        // Check win condition\n        const winnerId = engine.checkWinCondition();\n        if (winnerId !== null) {\n          const winner = gameManager.getPlayer(winnerId);\n          alert(`Game Over! ${winner === null || winner === void 0 ? void 0 : winner.name} wins with ${winner === null || winner === void 0 ? void 0 : winner.score} points!`);\n        }\n        setPendingPlacements([]);\n        setSelectedTiles([]);\n\n        // Force re-render by updating state\n        setGameManager(gameManager);\n        setEngine(engine);\n      } catch (error) {\n        alert('Error: ' + error.message);\n      }\n    }\n  };\n  const handleSwapTiles = () => {\n    if (!gameManager || !engine || selectedTiles.length === 0) return;\n    const currentPlayer = gameManager.getCurrentPlayer();\n    engine.swapTiles(currentPlayer.id, selectedTiles);\n    setSelectedTiles([]);\n    engine.advanceTurn();\n\n    // Force re-render\n    setGameManager(gameManager);\n    setEngine(engine);\n  };\n  if (!dictionaryLoaded) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"loading\",\n      children: \"Loading dictionary...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 187,\n      columnNumber: 12\n    }, this);\n  }\n  if (showSetup) {\n    return /*#__PURE__*/_jsxDEV(SetupModal, {\n      onStartGame: handleStartGame\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 191,\n      columnNumber: 12\n    }, this);\n  }\n  if (!gameManager || !engine) {\n    return null;\n  }\n  const state = gameManager.getState();\n  const currentPlayer = gameManager.getCurrentPlayer();\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"game-container\",\n    children: [/*#__PURE__*/_jsxDEV(Navbar, {\n      currentPlayerName: currentPlayer.name\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 203,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(ScoreArea, {\n      players: state.players,\n      currentPlayerId: state.currentPlayerId\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 204,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Board, {\n      board: state.board,\n      selectedPositions: selectedWordPositions,\n      isPlacingTiles: isPlacingTiles,\n      onCellClick: handleCellClick,\n      onColumnClick: handleColumnClick\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 205,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Rack, {\n      tiles: currentPlayer.rack,\n      selectedIndices: selectedTiles,\n      onTileClick: handleTileSelect\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 212,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(ActionButtons, {\n      canSubmit: pendingPlacements.length > 0 || selectedWordPositions.length > 0,\n      onSubmit: handleSubmitMove,\n      onSwap: handleSwapTiles,\n      canSwap: selectedTiles.length > 0\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 217,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(WordsPanel, {\n      claimedWords: state.claimedWords\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 223,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 202,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"GJrXk3UmpH1C+IA80eHvGlYhXrY=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useEffect","GameStateManager","SetupModal","Navbar","ScoreArea","Board","Rack","ActionButtons","WordsPanel","jsxDEV","_jsxDEV","dictionary","Set","loadDictionary","response","fetch","ok","console","warn","text","words","split","map","line","trim","toUpperCase","filter","word","length","test","log","size","error","App","_s","gameManager","setGameManager","engine","setEngine","selectedTiles","setSelectedTiles","selectedWordPositions","setSelectedWordPositions","pendingPlacements","setPendingPlacements","isPlacingTiles","setIsPlacingTiles","showSetup","setShowSetup","dictionaryLoaded","setDictionaryLoaded","then","handleStartGame","numPlayers","playerNames","targetScore","manager","createNewGame","gameEngine","getEngine","handleTileSelect","index","prev","includes","i","handleColumnClick","column","currentPlayer","getCurrentPlayer","tile","rack","slice","handleCellClick","x","y","pos","idx","findIndex","p","_","handleSubmitMove","tilesToPlace","newRack","placementIdx","letter","points","placeTiles","id","state","getState","newlyPlacedTiles","placement","board","playerId","push","claims","positions","result","processWordClaims","valid","alert","results","r","join","refillPlayerRack","advanceTurn","winnerId","checkWinCondition","winner","getPlayer","name","score","message","handleSwapTiles","swapTiles","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onStartGame","currentPlayerName","players","currentPlayerId","selectedPositions","onCellClick","onColumnClick","tiles","selectedIndices","onTileClick","canSubmit","onSubmit","onSwap","canSwap","claimedWords","_c","$RefreshReg$"],"sources":["/Users/sanyasharma/Documents/grabble/react-ui/src/App.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport './App.css';\nimport './styles.scss';\nimport { GameStateManager, GrabbleEngine } from './game-engine';\nimport type { Tile, Position, WordClaim, Player, ClaimedWord } from './game-engine';\nimport SetupModal from './components/SetupModal';\nimport Navbar from './components/Navbar';\nimport ScoreArea from './components/ScoreArea';\nimport Board from './components/Board';\nimport Rack from './components/Rack';\nimport ActionButtons from './components/ActionButtons';\nimport WordsPanel from './components/WordsPanel';\n\n// Dictionary - loaded from file\nlet dictionary = new Set<string>();\n\nasync function loadDictionary() {\n  try {\n    const response = await fetch('/dictionary.txt');\n    if (!response.ok) {\n      console.warn('Dictionary file not found, using fallback');\n      dictionary = new Set(['CAT', 'DOG', 'BAT', 'RAT', 'MAT', 'SAT', 'HAT', 'PAT',\n        'CAR', 'BAR', 'FAR', 'TAR', 'WAR', 'JAR',\n        'BED', 'RED', 'FED', 'LED', 'TED',\n        'BIG', 'DIG', 'FIG', 'JIG', 'PIG', 'WIG']);\n      return;\n    }\n    const text = await response.text();\n    const words = text.split('\\n')\n      .map(line => line.trim().toUpperCase())\n      .filter(word => word.length >= 3 && /^[A-Z]+$/.test(word));\n    dictionary = new Set(words);\n    console.log(`Loaded ${dictionary.size} words from dictionary`);\n  } catch (error) {\n    console.error('Error loading dictionary:', error);\n    dictionary = new Set(['CAT', 'DOG', 'BAT', 'RAT', 'MAT', 'SAT', 'HAT', 'PAT',\n      'CAR', 'BAR', 'FAR', 'TAR', 'WAR', 'JAR',\n      'BED', 'RED', 'FED', 'LED', 'TED',\n      'BIG', 'DIG', 'FIG', 'JIG', 'PIG', 'WIG']);\n  }\n}\n\nfunction App() {\n  const [gameManager, setGameManager] = useState<GameStateManager | null>(null);\n  const [engine, setEngine] = useState<GrabbleEngine | null>(null);\n  const [selectedTiles, setSelectedTiles] = useState<number[]>([]);\n  const [selectedWordPositions, setSelectedWordPositions] = useState<Position[]>([]);\n  const [pendingPlacements, setPendingPlacements] = useState<Array<{ column: number; tile: Tile }>>([]);\n  const [isPlacingTiles, setIsPlacingTiles] = useState(false);\n  const [showSetup, setShowSetup] = useState(true);\n  const [dictionaryLoaded, setDictionaryLoaded] = useState(false);\n\n  useEffect(() => {\n    loadDictionary().then(() => setDictionaryLoaded(true));\n  }, []);\n\n  const handleStartGame = (numPlayers: number, playerNames: string[], targetScore: number) => {\n    const manager = GameStateManager.createNewGame(numPlayers, playerNames, targetScore);\n    const gameEngine = manager.getEngine();\n    setGameManager(manager);\n    setEngine(gameEngine);\n    setShowSetup(false);\n  };\n\n  const handleTileSelect = (index: number) => {\n    if (isPlacingTiles) return;\n    setSelectedTiles(prev => \n      prev.includes(index) \n        ? prev.filter(i => i !== index)\n        : [...prev, index]\n    );\n  };\n\n  const handleColumnClick = (column: number) => {\n    if (!gameManager || !engine || selectedTiles.length === 0) return;\n    \n    const currentPlayer = gameManager.getCurrentPlayer();\n    const tile = currentPlayer.rack[selectedTiles[0]];\n    \n    setPendingPlacements(prev => [...prev, { column, tile }]);\n    setSelectedTiles(prev => prev.slice(1));\n    setIsPlacingTiles(true);\n  };\n\n  const handleCellClick = (x: number, y: number) => {\n    if (isPlacingTiles || !gameManager) return;\n    \n    const pos: Position = { x, y };\n    setSelectedWordPositions(prev => {\n      const idx = prev.findIndex(p => p.x === x && p.y === y);\n      if (idx === -1) {\n        return [...prev, pos];\n      } else {\n        return prev.filter((_, i) => i !== idx);\n      }\n    });\n  };\n\n  const handleSubmitMove = async () => {\n    if (!gameManager || !engine) return;\n    \n    const currentPlayer = gameManager.getCurrentPlayer();\n    \n    if (pendingPlacements.length > 0) {\n      try {\n        // Remove tiles from rack\n        const tilesToPlace = pendingPlacements.map(p => p.tile);\n        const newRack = currentPlayer.rack.filter((tile, idx) => {\n          const placementIdx = tilesToPlace.findIndex(p => \n            p.letter === tile.letter && p.points === tile.points\n          );\n          return placementIdx === -1;\n        });\n        currentPlayer.rack = newRack;\n        \n        engine.placeTiles(pendingPlacements, currentPlayer.id);\n        setIsPlacingTiles(false);\n        \n        // Get newly placed positions (after gravity)\n        const state = engine.getState();\n        const newlyPlacedTiles: Position[] = [];\n        for (const placement of pendingPlacements) {\n          for (let y = 6; y >= 0; y--) {\n            const tile = state.board[y][placement.column];\n            if (tile && tile.playerId === currentPlayer.id) {\n              newlyPlacedTiles.push({ x: placement.column, y });\n              break;\n            }\n          }\n        }\n        \n        // Process word claims\n        if (selectedWordPositions.length > 0) {\n          const claims: WordClaim[] = [{\n            positions: selectedWordPositions,\n            playerId: currentPlayer.id\n          }];\n          \n          const result = await engine.processWordClaims(claims, newlyPlacedTiles, dictionary);\n          \n          if (!result.valid) {\n            alert('Invalid word claims: ' + result.results.map(r => r.error).join(', '));\n            return;\n          }\n          \n          setSelectedWordPositions([]);\n        }\n        \n        // Refill rack and advance turn\n        engine.refillPlayerRack(currentPlayer.id);\n        engine.advanceTurn();\n        \n        // Check win condition\n        const winnerId = engine.checkWinCondition();\n        if (winnerId !== null) {\n          const winner = gameManager.getPlayer(winnerId);\n          alert(`Game Over! ${winner?.name} wins with ${winner?.score} points!`);\n        }\n        \n        setPendingPlacements([]);\n        setSelectedTiles([]);\n        \n        // Force re-render by updating state\n        setGameManager(gameManager);\n        setEngine(engine);\n        \n      } catch (error) {\n        alert('Error: ' + (error as Error).message);\n      }\n    }\n  };\n\n  const handleSwapTiles = () => {\n    if (!gameManager || !engine || selectedTiles.length === 0) return;\n    \n    const currentPlayer = gameManager.getCurrentPlayer();\n    engine.swapTiles(currentPlayer.id, selectedTiles);\n    setSelectedTiles([]);\n    engine.advanceTurn();\n    \n    // Force re-render\n    setGameManager(gameManager);\n    setEngine(engine);\n  };\n\n  if (!dictionaryLoaded) {\n    return <div className=\"loading\">Loading dictionary...</div>;\n  }\n\n  if (showSetup) {\n    return <SetupModal onStartGame={handleStartGame} />;\n  }\n\n  if (!gameManager || !engine) {\n    return null;\n  }\n\n  const state = gameManager.getState();\n  const currentPlayer = gameManager.getCurrentPlayer();\n\n  return (\n    <div className=\"game-container\">\n      <Navbar currentPlayerName={currentPlayer.name} />\n      <ScoreArea players={state.players} currentPlayerId={state.currentPlayerId} />\n      <Board \n        board={state.board}\n        selectedPositions={selectedWordPositions}\n        isPlacingTiles={isPlacingTiles}\n        onCellClick={handleCellClick}\n        onColumnClick={handleColumnClick}\n      />\n      <Rack \n        tiles={currentPlayer.rack}\n        selectedIndices={selectedTiles}\n        onTileClick={handleTileSelect}\n      />\n      <ActionButtons\n        canSubmit={pendingPlacements.length > 0 || selectedWordPositions.length > 0}\n        onSubmit={handleSubmitMove}\n        onSwap={handleSwapTiles}\n        canSwap={selectedTiles.length > 0}\n      />\n      <WordsPanel claimedWords={state.claimedWords} />\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}